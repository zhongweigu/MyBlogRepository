---
title: 基于云原生技术的软件开发
date: 2025-06-23 19:50:01
categories:   "课程复习"
tags: [云原生]
toc : true
cover: "OIP-C.B5ZFBbePIBhCuU_dexGNbwHaCww=287&h=130&c=7&r=0&o=7&dpr=1.8&pid=1.webp" 
---

# 云原生简介及Linux入门

## 参考

《操作系统：设计与实现》

《鸟哥的Linux私房菜》

《计算机网络》

《Kubernetes in Action》

Kubernete源码

![docker 的图像结果](基于云原生技术的软件开发/OIP-C.B5ZFBbePIBhCuU_dexGNbwHaCww=287&h=130&c=7&r=0&o=7&dpr=1.8&pid=1.webp)

## 云计算与云原生

![image-20250624104641492](基于云原生技术的软件开发/image-20250624104641492.png)

# Docker

## Docker简介

### Docker概念与用途

Docker 可以将应用、配置和环境打包，形成一个独立的类似于 iOS APP 形式的**「应用」**。 此「应用」可以直接分发到任意一个支持Docker 的环境中，通过简单的命令即可运行。

- 提供一次性的环境
  - 比如，本地测试他人的软件、持续集成的时候提供单元测试和构建的环境。 
- 提供弹性的云服务
  - 因为 Docker 容器可以随开随关，很适合动态扩容和缩容。 
- 组建微服务架构
  - 因为 Docker 容器非常地轻量，在一台机器通过运行多个容器就可以跑多个服务。

> 用户计算机的环境都不相同，你怎么知道自家的软件，能在哪些机器跑起来？ 
>
> 用户必须保证两件事：**操作系统的设置，各种库和组件的安装**。只有它们都正确，软件才能运行
>
> 举例来说，安装一个 Python 应用，计算机必须有 Python 引擎，还必须有各种依赖，可能还要配置环境变量。如果某些老旧的模块与当前环境不兼容，那就麻烦了。
>
> 开发者常常会说：“在我的环境上还是可以的”。言下之意就是在当前的运行环境可能有什么“问题”，跟开发环境有什么不一样。
>
> 环境配置如此麻烦，换一台机器，就要重来一次，旷日费时。很多人想到，能不能从根本上解决问题，软件可以带环境安装，**安装的时候把原始环境一模一样地复制过来**。

**Docker 对世界的改变（以回顾的视角来看）** 

容器技术跟集装箱一样，给云计算行业带来了极大的技术变革，快速改变了公司和用户创建、 发布、运行分布式应用的方式 

Docker 使得容器化技术使用非常方便，极大地推进了容器行业的发展与容器技术标准化。

- 容器镜像格式标准
- 容器运行标准化
- 就像标准化装卸集装箱货物一样极大方便了容器的存储、分发和使用。可以让开发者打包他们的应用及其依赖的环境到一个容器中，然后快速部署到任何一台Linux机器上。 

Docker 的口号：==Build Once，Run Anywhere==

### Docker的特点

1. 环境一致性
   - Docker容器镜像打包了应用服务运行环境
   - Docker容器基于开放式标准，能够在所有主流 Linux 版本、Microsoft Windows 以及包括 VM、裸机服务器和云在内的任何基础设施上运行
2. 资源独立与隔离
3. 轻量化
   - 共享内核，快速启动
   - 占用很少的计算、内存资源
   - 细粒度的资源管理方式
     - 支持0.5个CPU、200MB内存这种粒度的资源分配
   - 分层文件系统
     - 容器镜像通过分层文件系统组合而成，共享相同的公共镜像层，降低磁盘占用，提高镜像分发速度
4. 容器是自包含的
   - 它打包了应用程序及其所有依赖，可以直接运行。以前应用程序的依赖管理一直是个大问题，即使像RPM 、ansible 等都能解决一部分问题，但并没有一个所有应用程序通用的标准机制，直到容器出现。
5. 容器是可移植的
   - 可以在几乎任何地方以相同的方式运行。这就可以确保应用在开发环境、测试环境、生产环境等都有完全一样的运行环境。
6. 容器是相互隔离的
   - 同一节点上运行的多个容器，不会互相影响。即一个容器中运行的应用程序，是访问不到其他容器的资源的（进程、网络、文件、用户等），除非配置为共享的资源。
7. 容器是轻量级的
   - 体现在容器的秒级启动，并且占用资源很少。

### Docker与虚拟机

<img src="基于云原生技术的软件开发/image-20250624105546506.png" alt="image-20250624105546506" style="zoom:50%;" />

​	<img src="基于云原生技术的软件开发/image-20250624105625260.png" alt="image-20250624105625260" style="zoom: 33%;" />

**容器与虚拟机使用上的差异** 

① 一个容器中只干一件事 

② 容器的使用观念是我要启动一个 APP，而 VM 使用观念是我需要一个 OS 

③ 容器通常是短暂性的，频繁更新的 

④ 更新整个容器而非到容器中单独更新某个组件 

⑤ 容器不需要热迁移 

⑥ 容器镜像通常很小（相比于VM），分发十分快速 

⑦ 创建容器非常方便，而创建VM相对复杂。 

⑧ 容器与 host 共享内核 

⑨ 容器中没有 systemd，1号进程就是应用进程本身

## Docker入门



